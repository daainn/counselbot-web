{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- jQuery 먼저 로드 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Select2 CSS + JS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>반려견 정보 입력 - PetMind</title>
  <link rel="stylesheet" href="{% static 'css/common.css' %}" />
  <link rel="stylesheet" href="{% static 'css/petmind-info.css' %}" />
  <link href="https://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css" rel="stylesheet" type="text/css" />
</head>
<body>
{% include 'common/header.html' %}
<div class="dog-info-form">
  <div class="top-title">
    <span class="highlight">PetMind</span><strong>에 오신 걸 환영해요!</strong><br/>
    회원가입이 완료되었어요.<br/>
    이제 나의 반려견 프로필을 등록하고 맞춤형 상담을 시작해보세요!
  </div>
<form method="post" action="{% url 'dogs:dog_info_submit' %}" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="form-box">
    <div class="info-banner">
      <strong>반려견의 정보를 알려주세요</strong>
      반려견의 정보에 따른 맞춤형 상담을 위해 정보를 입력해주세요.<br/>
      입력하신 정보는 오직 상담 목적으로만 활용됩니다.
    </div>

    <div class="section-block">
      <div class="section">
        <div class="section-title">01</div>
        <div class="profile-title">프로필 이미지 입력</div>
        <div class="profile-subtext">프로필에 등록하고 싶은 반려견의 사진을 올려주세요.</div>
        <div class="image-upload-wrapper">
          <button type="button" class="image-delete-btn">
            <img src="{% static 'images/trash.png' %}" alt="삭제" />
          </button>
          <label class="image-upload-label">
            <img class="upload-icon" src="{% static 'images/image.png' %}" alt="업로드 아이콘" />
            <input type="file" name="profile_image_url" accept="image/*" />
          </label>
        </div>
      </div>

      <div class="section">
        <div class="section-title">02</div>
        <span class="profile-title">필수 입력 정보</span>
        <span class="required-star">*</span>
        <div class="profile-subtext">현재 반려견에 대해 알려주세요.(필수)</div>
        <div class="section-content">
          <div class="field-label">
            <span class="profile-subtitle">반려견 이름</span>
            <span class="required-star">*</span>
          </div>
          <input type="text" name="name" placeholder="반려견 이름 (예: 아리, 보리, 메이)" required />
          <div class="field-label">
            <span class="profile-subtitle">반려견 견종</span>
            <span class="required-star">*</span>
          </div>
          <select id="breed-select" name="breed" class="select2-input" style="width:100%">
            <option></option>
            {% for breed in dog_breeds %}
              <option value="{{ breed.id }}">{{ breed.name }}</option>
            {% endfor %}
          </select>

        </div>
      </div>
    </div>
    <div class="inline-input-row">
      <div class="profile-subtitle">반려견 나이</div>
      <input type="text" name="age" placeholder="반려견 나이 (예: 3)" />
    </div>

    <div class="inline-input-row">
      <div class="profile-subtitle">반려견 성별</div>
      <div class="radio-row">
        <input type="radio" id="male" name="gender" value="남아" />
        <label for="male">남아</label>
        <input type="radio" id="female" name="gender" value="여아" />
        <label for="female">여아</label>
      </div>
    </div>

    <div class="inline-input-row">
      <div class="profile-subtitle">중성화 여부</div>
      <div class="radio-row">
        <input type="radio" id="neutered_yes" name="neutered" value="완료" />
        <label for="neutered_yes">완료</label>
        <input type="radio" id="neutered_no" name="neutered" value="미완료" />
        <label for="neutered_no">미완료</label>
        <input type="radio" id="neutered_unknown" name="neutered" value="모름" />
        <label for="neutered_unknown">모름</label>
      </div>
    </div>

    <div class="inline-input-row">
      <div class="profile-subtitle">과거 질병/수술 이력</div>
      <div class="radio-row">
        <input type="radio" id="disease_yes" name="disease" value="있음" />
        <label for="disease_yes">있음</label>
        <input type="radio" id="disease_no" name="disease" value="없음" />
        <label for="disease_no">없음</label>
      </div>
    </div>
    <div class="inline-input-row">
      <input type="text" name="disease_history" placeholder="과거 질병이나 수술 이력이 있다면 알려주세요." style="width: 100%;" />
    </div>

    <div class="inline-input-row">
      <div class="profile-subtitle">함께 산 기간</div>
      <div class="radio-row">
        <input type="radio" id="lt1" name="living_period" value="1년 미만" />
        <label for="lt1">1년 미만</label>
        <input type="radio" id="lt3" name="living_period" value="3년 미만" />
        <label for="lt3">3년 미만</label>
        <input type="radio" id="lt10" name="living_period" value="10년 미만" />
        <label for="lt10">10년 미만</label>
        <input type="radio" id="gt10" name="living_period" value="10년 이상" />
        <label for="gt10">10년 이상</label>
      </div>
    </div>

    <div class="inline-input-row">
      <div class="profile-subtitle">주거 형태</div>
      <input type="text" name="housing_type" placeholder="거주 중인 주거 형태" />
    </div>


    <div class="button-row">
      <button type="submit" class="btn-confirm">등록</button>
    </div>
  </div>
</form>
</div>

<script>
  $(document).ready(function() {
    $('#breed-select').select2({
      placeholder: '반려견 견종 (예: 말티즈 / 푸들)',
      allowClear: true,
      tags: true,
      width: 'resolve'
    });
  });
</script>
</body>
</html>
